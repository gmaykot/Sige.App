<ng-container *ngIf="templateAjuda">
    <ng-container [ngTemplateOutlet]="templateAjuda"></ng-container>
  </ng-container>
  
<ng-template #ajudaOperacao>
    <nb-card size="small">
      <nb-card-header><h6>Ajuda Operação</h6></nb-card-header>
      <nb-card-body>
        <p>A funcionalidade de <strong>Ajuda Operação</strong> será utilizada para descrever para o usuário como funciona a operação.</p>
      </nb-card-body>
      <nb-card-footer class="footer-direita">
        <button nbButton status="basic" (click)="onClose()">Fechar Ajuda</button>
      </nb-card-footer>
    </nb-card>
  </ng-template>
  
  <ng-template #ajudaFaturamento>
    <nb-card size="small">
      <nb-card-header><h6>Faturamento Coenel</h6></nb-card-header>
      <nb-card-body>
        <div class="faturamento-info">
            <p>
              A funcionalidade de <strong>Faturamento Coenel</strong> define como será calculado o valor a ser cobrado ao cliente. Essas informações são utilizadas diretamente na geração do <strong>Relatório de Economia</strong>, impactando o resultado final apresentado ao cliente.
            </p>
          
            <p>Existem três formas de faturamento disponíveis:</p>
            <ol>
              <li>
                <strong>Valor Fixo:</strong><br>
                Um valor determinado é descontado diretamente, conforme o valor cadastrado no sistema.
              </li>
              <li>
                <strong>Quantidade de Salários:</strong><br>
                O sistema multiplica a quantidade de salários definida pelo valor do salário vigente cadastrado, resultando no total a ser faturado.
              </li>
              <li>
                <strong>Porcentagem sobre Economia:</strong><br>
                Uma porcentagem é aplicada sobre o valor da economia calculada no relatório, definindo assim o valor de faturamento.
              </li>
            </ol>
          
            <p>Essa flexibilidade permite adaptar a cobrança conforme o modelo comercial acordado com cada cliente.</p>

            <p>Pré-requisitos:</p>
            <ol>
              <li>
                <strong>Empresa Cadastrada</strong><br>
                O cadastro da empresa pode ser feito no cadastro de <strong class="strong" (click)="abrirNovaAba('/pages/empresas')">Empresas</strong>.
              </li>
              <li>
                <strong>Ponto de Medição Cadastrado</strong><br>
                O ponto de medição precisa estar previamente cadastrado no sistema. Esse cadastro pode ser realizado diretamente na aba "Pontos de Medição", dentro do cadastro da <strong class="strong" (click)="abrirNovaAba('/pages/empresas')">Empresas</strong>.
              </li>
            </ol>
          </div>
        </nb-card-body>
      <nb-card-footer class="footer-direita">
        <button nbButton status="basic" (click)="onClose()">Fechar Ajuda</button>
      </nb-card-footer>
    </nb-card>
  </ng-template>
  
  <ng-template #ajudaRelatorio>
    <nb-card size="small">
      <nb-card-header><h6>Relatório de Medição</h6></nb-card-header>
      <nb-card-body>
        <div class="faturamento-info">
            <p>
              A funcionalidade de <strong>Relatório de Medição</strong> é responsável por apresentar os cálculos dos valores que serão utilizados no
              <strong>Relatório de Economia</strong>. Para isso, utiliza informações previamente coletadas na funcionalidade de
              <strong>Coletar Medições</strong> e no <strong>Cadastro de Contrato</strong>.
            </p>
          
            <p>Esta tela realiza o cálculo de diversos dados importantes, tais como:</p>
            <ul>
              <li><strong>Consumo</strong> – consumo registrado para o período.</li>
              <li><strong>Take</strong> – volume de energia contratada a ser comparado com o consumo real.</li>
              <li><strong>Valores a serem faturados</strong> – cálculo do valor com base nos contratos e medições.</li>
            </ul>
          
            <p>
              Os dados são agrupados por <strong>Grupo de Empresas</strong>, e não por ponto de medição individual,
              fornecendo uma visão consolidada com totalizadores por grupo.
            </p>
          
            <p>Além de exibir essas informações em tela, a funcionalidade permite:</p>
            <ul>
              <li>Gerar o <strong>Relatório em PDF</strong>.</li>
              <li><strong>Enviar o relatório por e-mail</strong> para os clientes.</li>
              <li><strong>Exportar os dados</strong> das medições em formato CSV.</li>
            </ul>
          
            <p>
              Essa funcionalidade é essencial, pois serve como <strong>pré-requisito</strong> para a geração do
              <strong>Relatório de Economia</strong>.
            </p>
          
            <p>Pré-requisitos:</p>
            <ol>
              <li>
                <strong>Coletas de Medições realizadas</strong><br>
                As medições devem ser previamente coletadas através da funcionalidade
                <strong class="strong" (click)="abrirNovaAba('/pages/medicao')">Coletar Medições</strong>.
              </li>
              <li>
                <strong>Contrato de Energia cadastrado</strong><br>
                O contrato deve estar cadastrado corretamente para que os cálculos de faturamento e comparação sejam executados.
                Esse cadastro é feito na aba
                <strong class="strong" (click)="abrirNovaAba('/pages/contratos')">Contratos</strong>.
              </li>
            </ol>
          </div>
          
      </nb-card-body>
      <nb-card-footer class="footer-direita">
        <button nbButton status="basic" (click)="onClose()">Fechar Ajuda</button>
      </nb-card-footer>
    </nb-card>
  </ng-template>