<nb-card>
    <nb-card-body>
      <label class="search-label" for="search">Filtrar:</label>
      <input nbInput [nbFilterInput]="dataSource" id="search" class="search-input">
  
      <table [nbTreeGrid]="dataSource" nbSort equalColumnsWidth>
  
        <!-- Cabeçalho principal -->
        <tr nbTreeGridHeaderRow *nbTreeGridHeaderRowDef="allColumns"></tr>
  
        <!-- Linha dos dados -->
        <tr nbTreeGridRow *nbTreeGridRowDef="let row; columns: allColumns"></tr>
  
        <!-- Coluna personalizada -->
        <ng-container [nbTreeGridColumnDef]="customColumn">
          <th nbTreeGridHeaderCell [nbSortHeader]="getDirection(customColumn)" *nbTreeGridHeaderCellDef>
            {{ columnHeaders[customColumn] || customColumn }}
          </th>
  
          <td nbTreeGridCell *nbTreeGridCellDef="let row">
            <nb-tree-grid-row-toggle
              [expanded]="row.expanded"
              *ngIf="row.data.tipo === 'group'">
            </nb-tree-grid-row-toggle>
  
            {{ row.data[customColumn] }}
          </td>
        </ng-container>
  
        <!-- Demais colunas dinâmicas -->
        <ng-container *ngFor="let column of defaultColumns" [nbTreeGridColumnDef]="column">
          <th nbTreeGridHeaderCell [nbSortHeader]="getDirection(column)" *nbTreeGridHeaderCellDef>
            {{ columnHeaders[column] || column }}
          </th>
  
          <td nbTreeGridCell *nbTreeGridCellDef="let row">
            {{ row.data[column] }}
          </td>
        </ng-container>
  
      </table>
    </nb-card-body>
  </nb-card>
  